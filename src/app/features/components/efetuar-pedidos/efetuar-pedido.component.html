<form [formGroup]="pedidoForm" (ngSubmit)="efetuarPedido()">
  <div>
    <label for="produtoId">Produto: </label>
    <select id="produtoId" formControlName="produtoId">
      <option value="" disabled selected>Selecione um produto</option>
      <option *ngFor="let produto of produtos" [value]="produto.id">
        {{ produto.nome }}
      </option>
    </select>
  </div>

  <div *ngIf="produtoSelecionado.estoque >= 0">
    <small>Estoque disponível: {{ produtoSelecionado.estoque }}</small>
  </div>

  <div>
    <label for="descricao">Descrição: </label>
    <input id="descricao" type="text" formControlName="descricao" />
  </div>

  <div>
    <label for="quantidade">Quantidade: </label>
    <input id="quantidade" type="number" formControlName="quantidade" [max]="produtoSelecionado.estoque" />
  </div>

  <div>
    <label for="precoUnitario">Preço Unitário: </label>
    <input id="precoUnitario" type="number" formControlName="precoUnitario" readonly />
  </div>

  <button type="submit" [disabled]="pedidoForm.invalid">Efetuar Pedido</button>

  <div class="mensagem" *ngIf="mensagem">{{ mensagem }}</div>
  <div class="erro" *ngIf="erro">{{ erro }}</div>
</form>
